<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Traces &#8212; UConnRCMPy 3.0.2.dev2 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.0.2.dev2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Constants" href="constants.html" />
    <link rel="prev" title="Simulations" href="simulations.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-uconnrcmpy.traces">
<span id="traces"></span><h1>Traces<a class="headerlink" href="#module-uconnrcmpy.traces" title="Permalink to this headline">¶</a></h1>
<p>All of the kinds of traces in UConnRCMPy</p>
<dl class="class">
<dt id="uconnrcmpy.traces.AltExperimentalPressureTrace">
<em class="property">class </em><code class="descclassname">uconnrcmpy.traces.</code><code class="descname">AltExperimentalPressureTrace</code><span class="sig-paren">(</span><em>file_path</em>, <em>initial_pressure_in_torr</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.AltExperimentalPressureTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Process an alternate experimental pressure trace.</p>
<p>These pressure traces do not have an associated voltage trace,
but the machinery in the VoltageTrace class is useful for
filtering.</p>
</dd></dl>

<dl class="class">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace">
<em class="property">class </em><code class="descclassname">uconnrcmpy.traces.</code><code class="descname">ExperimentalPressureTrace</code><span class="sig-paren">(</span><em>voltage_trace</em>, <em>initial_pressure_in_torr</em>, <em>factor</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Pressure trace from a single experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>voltage_trace</strong> (<a class="reference internal" href="#uconnrcmpy.traces.VoltageTrace" title="uconnrcmpy.traces.VoltageTrace"><code class="xref py py-obj docutils literal"><span class="pre">VoltageTrace</span></code></a>) &#8211; Instance of class containing the voltage trace of the
experiment.</li>
<li><strong>initial_pressure_in_torr</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>) &#8211; The initial pressure of the experiment, in units of Torr</li>
<li><strong>factor</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>) &#8211; The factor set on the charge amplifier</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.pressure">
<code class="descname">pressure</code><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.pressure" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; The pressure trace computed from the filtered voltage trace</p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.time">
<code class="descname">time</code><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.time" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; A 1-D array containting the time. Copied from
<a class="reference internal" href="#uconnrcmpy.traces.VoltageTrace.time" title="uconnrcmpy.traces.VoltageTrace.time"><code class="xref py py-obj docutils literal"><span class="pre">VoltageTrace.time</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.frequency">
<code class="descname">frequency</code><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.frequency" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></a> &#8211; Integer sampling frequency of the experiment. Copied from
<a class="reference internal" href="#uconnrcmpy.traces.VoltageTrace.frequency" title="uconnrcmpy.traces.VoltageTrace.frequency"><code class="xref py py-obj docutils literal"><span class="pre">VoltageTrace.frequency</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.p_EOC">
<code class="descname">p_EOC</code><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.p_EOC" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a> &#8211; Pressure at the end of compression</p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.EOC_idx">
<code class="descname">EOC_idx</code><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.EOC_idx" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></a> &#8211; Integer index in the <a class="reference internal" href="#uconnrcmpy.traces.ExperimentalPressureTrace.pressure" title="uconnrcmpy.traces.ExperimentalPressureTrace.pressure"><code class="xref py py-obj docutils literal"><span class="pre">pressure</span></code></a> and <a class="reference internal" href="#uconnrcmpy.traces.ExperimentalPressureTrace.time" title="uconnrcmpy.traces.ExperimentalPressureTrace.time"><code class="xref py py-obj docutils literal"><span class="pre">time</span></code></a> arrays
of the end of compression.</p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.is_reactive">
<code class="descname">is_reactive</code><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.is_reactive" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></a> &#8211; Boolean if the pressure trace represents a reactive or
or non-reactive experiment</p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.derivative">
<code class="descname">derivative</code><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; 1-D array containing the raw derivative computed from the
<a class="reference internal" href="#uconnrcmpy.traces.ExperimentalPressureTrace.pressure" title="uconnrcmpy.traces.ExperimentalPressureTrace.pressure"><code class="xref py py-obj docutils literal"><span class="pre">pressure</span></code></a> trace.</p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.zeroed_time">
<code class="descname">zeroed_time</code><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.zeroed_time" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; 1-D array containing the time, with the zero point set at
the end of compression.</p>
</dd></dl>

<dl class="method">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.calculate_derivative">
<code class="descname">calculate_derivative</code><span class="sig-paren">(</span><em>dep_var</em>, <em>indep_var</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.calculate_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the derivative.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dep_var</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a>) &#8211; Dependent variable (e.g., the pressure)</li>
<li><strong>indep_var</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a>) &#8211; Independent variable (e.g., the time)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">1-D array containing the derivative</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The derivative is calculated by a second-order forward method
and any places where the derivative is infinite are set to
zero.</p>
</dd></dl>

<dl class="method">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.find_EOC">
<code class="descname">find_EOC</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.find_EOC" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the index and pressure at the end of compression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Returns a tuple with types (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></a>,
<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></a>) representing the pressure at the end of
compression, the index of the end of compression relative
to the start of the pressure trace, and a boolean that is
True if the case is reactive and False otherwise,
respectively</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">tuple</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The EOC is found by moving backwards from the maximum pressure
point and testing the values of the pressure. When the test
value becomes greater than the previous pressure, we have reached
the minimum pressure before ignition, in the case of a reactive
experiment. Then, the EOC is the maximum of the pressure before
this minimum point. If the pressure at the minimum is close to
the initial pressure, assume the case is non-reactive and set
the EOC pressure and the index to the max pressure point.</p>
</dd></dl>

<dl class="method">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.pressure_fit">
<code class="descname">pressure_fit</code><span class="sig-paren">(</span><em>comptime=0.08</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.pressure_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a line to the pressure trace before compression starts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>comptime</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>, optional) &#8211; Desired compression time, computed from the EOC, to when
the pressure fit should start</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Numpy object containing the parameters of the fit</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.polyfit.html#numpy.polyfit" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.polyfit</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="uconnrcmpy.traces.ExperimentalPressureTrace.savetxt">
<code class="descname">savetxt</code><span class="sig-paren">(</span><em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.ExperimentalPressureTrace.savetxt" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a text file output of the pressure trace.</p>
<p>Save a text file with the time in the first column and the filtered
pressure in the second column. The keyword arguments are the same as
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.savetxt.html#numpy.savetxt" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.savetxt</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></a>) &#8211; Filename of the output file</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="uconnrcmpy.traces.PressureFromVolume">
<em class="property">class </em><code class="descclassname">uconnrcmpy.traces.</code><code class="descname">PressureFromVolume</code><span class="sig-paren">(</span><em>volume</em>, <em>p_initial</em>, <em>T_initial</em>, <em>chem_file='species.cti'</em>, <em>cti_source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.PressureFromVolume" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pressure trace given a volume trace.</p>
<p>Using Cantera to evaluate the thermodynamic properties, compute a
pressure trace from a volume trace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>volume</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a>) &#8211; 1-D array containing the reactor volume</li>
<li><strong>p_initial</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>) &#8211; Initial pressure of the experiment, in bar</li>
<li><strong>T_initial</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>, optional) &#8211; Initial temperature of the experiment, in Kelvin.
Optional for Cantera versions greater than 2.2.0.</li>
<li><strong>chem_file</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></a>, optional) &#8211; Filename of the chemistry file to be used</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="uconnrcmpy.traces.PressureFromVolume.pressure">
<code class="descname">pressure</code><a class="headerlink" href="#uconnrcmpy.traces.PressureFromVolume.pressure" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; The pressure trace</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>The pressure is computed in a <a class="reference external" href="http://cantera.github.io/dev-docs/sphinx/html/cython/importing.html#cantera.Solution" title="(in Cantera v2.3)"><code class="xref py py-obj docutils literal"><span class="pre">cantera.Solution</span></code></a> object by
setting the volume and the entropy according to an isentropic
process using the given volume trace.</p>
</dd></dl>

<dl class="class">
<dt id="uconnrcmpy.traces.TemperatureFromPressure">
<em class="property">class </em><code class="descclassname">uconnrcmpy.traces.</code><code class="descname">TemperatureFromPressure</code><span class="sig-paren">(</span><em>pressure</em>, <em>T_initial</em>, <em>chem_file='species.cti'</em>, <em>cti_source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.TemperatureFromPressure" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temperature trace given a pressure trace.</p>
<p>Using Cantera to evaluate the thermodynamic properties, compute a
pressure trace from a volume trace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pressure</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a>) &#8211; 1-D array containing the pressure</li>
<li><strong>T_initial</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>) &#8211; Initial temperature of the experiment, in Kelvin.
Optional for Cantera versions greater than 2.2.0.</li>
<li><strong>chem_file</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></a>, optional) &#8211; Filename of the chemistry file to be used</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="uconnrcmpy.traces.TemperatureFromPressure.temperature">
<code class="descname">temperature</code><a class="headerlink" href="#uconnrcmpy.traces.TemperatureFromPressure.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; The temperature trace</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>The temperature is computed in a <a class="reference external" href="http://cantera.github.io/dev-docs/sphinx/html/cython/importing.html#cantera.Solution" title="(in Cantera v2.3)"><code class="xref py py-obj docutils literal"><span class="pre">cantera.Solution</span></code></a> object by
setting the pressure and the entropy according to an isentropic
process using the given pressure trace.</p>
</dd></dl>

<dl class="class">
<dt id="uconnrcmpy.traces.VoltageTrace">
<em class="property">class </em><code class="descclassname">uconnrcmpy.traces.</code><code class="descname">VoltageTrace</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Voltage signal from a single experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/pathlib.html#pathlib.Path" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">pathlib.Path</span></code></a>) &#8211; <a class="reference external" href="https://docs.python.org/3.5/library/pathlib.html#pathlib.Path" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">Path</span></code></a> object associated with the particular experiment</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="uconnrcmpy.traces.VoltageTrace.signal">
<code class="descname">signal</code><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace.signal" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; 2-D array containing the raw signal from the experimental
text file. First column is the time, second column is the
voltage.</p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.VoltageTrace.time">
<code class="descname">time</code><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace.time" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; The time loaded from the signal trace</p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.VoltageTrace.frequency">
<code class="descname">frequency</code><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace.frequency" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></a> &#8211; The sampling frequency of the pressure trace</p>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.VoltageTrace.filtered_voltage">
<code class="descname">filtered_voltage</code><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace.filtered_voltage" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; The voltage trace after filtering</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The first sample of the voltage is set equal to the
mean of the first 200 points to eliminate DAQ startup
effects seen in some data.</p>
</div>
<dl class="method">
<dt id="uconnrcmpy.traces.VoltageTrace.change_filter_freq">
<code class="descname">change_filter_freq</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace.change_filter_freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the filter frequency</p>
<p>This method is intended to be used after the <a class="reference internal" href="#uconnrcmpy.traces.VoltageTrace" title="uconnrcmpy.traces.VoltageTrace"><code class="xref py py-obj docutils literal"><span class="pre">VoltageTrace</span></code></a> has
already been created. It sets the <a class="reference internal" href="#uconnrcmpy.traces.VoltageTrace.filter_frequency" title="uconnrcmpy.traces.VoltageTrace.filter_frequency"><code class="xref py py-obj docutils literal"><span class="pre">filter_frequency</span></code></a>
attribute and then runs the filtering.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a> or <a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a>) &#8211; Value for the filter frequency. If <a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a>, an optimal frequency
will be estimated by the procedure detailed in the documentation
for the <a class="reference internal" href="#uconnrcmpy.traces.VoltageTrace.filter_frequency" title="uconnrcmpy.traces.VoltageTrace.filter_frequency"><code class="xref py py-obj docutils literal"><span class="pre">filter_frequency</span></code></a> attribute.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="uconnrcmpy.traces.VoltageTrace.filter_frequency">
<code class="descname">filter_frequency</code><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace.filter_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>The cutoff frequency for the low-pass filter</p>
<p>When setting the frequency, if the <code class="docutils literal"><span class="pre">value</span></code> is <a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a>,
determines the optimal cutoff frequency for a first-order
Butterworth low-pass filter by analyzing the root-mean-squared
residuals for a sequence of cutoff frequencies. The residuals
plotted as a function of the cutoff frequency tend to have a
linear portion for a range of cutoff frequencies. Analysis of
typical data files from our RCM has shown this range to start
near <code class="docutils literal"><span class="pre">nyquist_freq*0.05</span></code>. The end point is determined by
looping through values from <code class="docutils literal"><span class="pre">nyquist_freq*0.5</span></code> to
<code class="docutils literal"><span class="pre">nyquist_freq*0.1</span></code> and finding the location where the
coefficient of determination of a linear fit is maximized.
A line is fit to this portion of the residuals curve and
the intersection point of a horizontal line through the
y-intercept of the fit and the residuals curve is used to
determine the optimal cutoff frequency (see Figure 2 in Yu
et al. <a class="footnote-reference" href="#id4" id="id1">[1]</a>). The methodology is described by Yu et al. <a class="footnote-reference" href="#id4" id="id2">[1]</a>,
and the code is modifed from Duarte <a class="footnote-reference" href="#id5" id="id3">[2]</a>.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> B. Yu, D. Gabriel, L. Noble, and K.N. An, &#8220;Estimate of
the Optimum Cutoff Frequency for the Butterworth Low-Pass
Digital Filter&#8221;, Journal of Applied Biomechanics, Vol. 15,
pp. 318-329, 1999.
DOI: <a class="reference external" href="http://dx.doi.org/10.1123/jab.15.3.318">10.1123/jab.15.3.318</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>M. Duarte, &#8220;Residual Analysis&#8221;, v.3 2014/06/13,
<a class="reference external" href="http://nbviewer.ipython.org/github/demotu/BMC/blob/master/notebooks/ResidualAnalysis.ipynb">http://nbviewer.ipython.org/github/demotu/BMC/blob/master/notebooks/ResidualAnalysis.ipynb</a></td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="uconnrcmpy.traces.VoltageTrace.filtering">
<code class="descname">filtering</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace.filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the input using a low-pass filter.</p>
<p>The filter is a first-order Butterworth filter, with the
cutoff frequency taken from the instance attribute
<a class="reference internal" href="#uconnrcmpy.traces.VoltageTrace.filter_frequency" title="uconnrcmpy.traces.VoltageTrace.filter_frequency"><code class="xref py py-obj docutils literal"><span class="pre">filter_frequency</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a>) &#8211; The data that should be filtered</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">1-D array of the same length as the input data</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="uconnrcmpy.traces.VoltageTrace.savetxt">
<code class="descname">savetxt</code><span class="sig-paren">(</span><em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.VoltageTrace.savetxt" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a text file output of the voltage trace.</p>
<p>Save a text file with the time in the first column and the filtered
voltage in the second column. The keyword arguments are the same as
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.savetxt.html#numpy.savetxt" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.savetxt</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></a>) &#8211; Filename of the output file</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="uconnrcmpy.traces.VolumeFromPressure">
<em class="property">class </em><code class="descclassname">uconnrcmpy.traces.</code><code class="descname">VolumeFromPressure</code><span class="sig-paren">(</span><em>pressure</em>, <em>v_initial</em>, <em>T_initial</em>, <em>chem_file='species.cti'</em>, <em>cti_source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#uconnrcmpy.traces.VolumeFromPressure" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a volume trace given a pressure trace.</p>
<p>Using Cantera to evaluate the thermodynamic properties, compute a
volume trace from a pressure trace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pressure</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a>) &#8211; 1-D array containing the reactor pressure</li>
<li><strong>v_initial</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>) &#8211; Initial volume of the experiment, in m**3</li>
<li><strong>T_initial</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#float" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a>, optional) &#8211; Initial temperature of the experiment, in Kelvin. Optional for
Cantera versions greater than 2.2.0.</li>
<li><strong>chem_file</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></a>, optional) &#8211; Filename of the chemistry file to be used</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="uconnrcmpy.traces.VolumeFromPressure.volume">
<code class="descname">volume</code><a class="headerlink" href="#uconnrcmpy.traces.VolumeFromPressure.volume" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code></a> &#8211; The volume trace</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>The volume is computed according to the formula</p>
<div class="math">
\[v_i = v_{initial}*\rho_{initial}/\rho_i\]</div>
<p>where the index <span class="math">\(i\)</span> indicates the current point. The state
is set at each point by setting the pressure from the input array
and the entropy to be constant. The volume is computed by the
isentropic relationship described above.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">UConnRCMPy</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=bryanwweber&repo=uconnrcmpy&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="conditions.html">Conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments.html">Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulations.html">Simulations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Traces</a></li>
<li class="toctree-l1"><a class="reference internal" href="constants.html">Constants</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="simulations.html" title="previous chapter">Simulations</a></li>
      <li>Next: <a href="constants.html" title="next chapter">Constants</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Bryan W. Weber.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/traces.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/bryanwweber/uconnrcmpy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>